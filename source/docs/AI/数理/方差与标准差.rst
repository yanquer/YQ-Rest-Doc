==============================
方差与标准差
==============================


.. post:: 2024-03-17 00:32:12
  :tags: 数理
  :category: AI
  :author: YanQue
  :location: CD
  :language: zh-cn


方差和标准差都是用来度量数据的离散程度，即表征一组数据分布情况的统计量。

方差(variance)
  所有数据与均值之差的平方和的平均值，
  它反映了数据的波动程度，也可以用来描述一个随机变量的分布情况。

  通俗地来讲，

  - 方差越大，数据的波动就越剧烈，说明数据之间的差异越大；
  - 方差越小，数据的波动就越平稳，说明数据之间的差异越小。

  为什么取平方？
    因为随机值和均值比较出现负偏差的时候，
    要取反才能和其他值比较，为了比较方便，统一取平方值进行比较.

    不用绝对值, 是因为绝对值不可导, 没法求积分(现在数学界啥都要积分可导)
标准差(standard deviation)
  方差的平方根，它也是用来衡量数据的离散程度，
  但更直观地反映了数据与均值之间的距离，即数据的离散程度。

  - 标准差越大，数据的波动就越大，说明数据之间的差异越大；
  - 标准差越小，数据的波动就越小，说明数据之间的差异越小。

  因此，可以通过标准差来判断数据集中的数据点距离均值的程度，
  进而对数据的分布情况和变化趋势进行分析和解释。

  为什么需要标准差?
    可以简单的理解为, 方差如果带上单位, 也把单位给平方了, 比如
    单位是m, 方差因为会球平方, 单位就变成了 m^2, 开个根号利于
    与原来的数据 `xxx m` 比较.

    标准差和均值的量纲（单位）是一致的，在描述一个波动范围时标准差比方差更方便。
    比如一个班男生的平均身高是170cm,标准差是10cm,那么方差就是100cm^2。
    可以进行的比较简便的描述是本班男生身高分布是170±10cm，方差就无法做到这点。
    这么说可或许不准确, 那换种说法: 假定这个班男生的身高服从正态分布，
    则有68.3%的男生身高落在170±10cm这个区间内。
    即: 正态分布中::

      P{μ-σ<X<μ+σ}=68.3%，同理P{μ-2σ<X<μ+2σ}=95.4%，P{μ-3σ<X<μ+3σ}=99.7%    # 均可在正态分布概率表格中查询。希望有帮助。

    再举个例子，从正态分布中抽出的一个样本落在[μ-3σ, μ+3σ]这个范围内的概率是99.7%，
    也可以称为“正负3个标准差”。如果没有标准差这个概念，
    我们使用方差来描述这个范围就略微绕了一点。
    万一这个分布是有实际背景的，这个范围描述还要加上一个单位，
    这时候为了方便，人们就自然而然地将这个量单独提取出来了。
方差和标准差的区别
  - 方差只有比较意义，没有数字意义；
  - 标准差既有比较意义，也有数字意义。

  为什么要通过方差来计算标准差？
  明明是根据标准差的意义推导出的方差，
  现在计算标准差，却要先算方差？明明是我先来的，为什么会这样呢？
  因为计算方便，不用考虑不同样本值和均值的正负比较和取反，具有普遍性。

示例::

  import math

  def variance(data):
      n = len(data)
      mean = sum(data) / n
      deviations = [(x - mean) ** 2 for x in data]
      variance = sum(deviations) / n
      return variance

  def stdev(data):
      return math.sqrt(variance(data))

  data = [1, 2, 3, 4, 5]
  print("数据集：", data)
  print("方差：", variance(data))
  print("标准差：", stdev(data))

