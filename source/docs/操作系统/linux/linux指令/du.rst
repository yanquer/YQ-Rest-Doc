=================
du
=================

du，disk usage,
是通过搜索文件来计算每个文件的大小然后累加，
du能看到的文件只是一些当前存在的，没有被删除的。
他计算的大小就是当前他认为存在的所有文件大小的累加和

-s
  指定文件系统中所有的目录、符号链接和文件使用的块数累加得到该文件系统使用的总块数

相关指令: :doc:`df`

与df区别
=================

如::

  [root@www ~]# du -sh /home
  4.7G    /home
  [root@www ~]# df -h /home
  Filesystem            Size  Used Avail Use% Mounted on
  /dev/sda5              15G  4.9G  8.9G  36% /home
  [root@www ~]#

df 命令
  通过查看文件系统磁盘块分配图得出总块数与剩余块数。

  文件系统分配其中的一些磁盘块用来记录它自身的一些数据，如i节点，磁盘分布图，间接块，超级块等。
  这些数据对大多数用户级的程序来说是不可见的，通常称为Meta Data。
du 命令
  是用户级的程序，它不考虑Meta Data，
  而df命令则查看文件系统的磁盘分配图并考虑Meta Data。

  df命令获得真正的文件系统数据，而du命令只查看文件系统的部分情况。

与ls区别
=================

文件大小的两个概念

- 文件占用磁盘空间的大小
- 文件实际的大小

du -k属于第一种，计算的是文件占用磁盘空间的大小。

在电脑的文件系统中，存储是以块(Block)为单位的，不同的系统块的大小不一样，
比如说 macOS 一个块的大小是 4096 字节。假设一个文件有 4097 字节，4097-4096=1，
这个文件在占用了一个块之后，还有一个字节会占用到一个块，
而块与块之间是不共享空间的，也就是说，剩下的 1 字节占用了一个块，
这个块还空出 4095 字节，但是无法用于存储其他文件。

所以，这个大小为 4097 字节的文件占用了 2 个块。
而 du -k 计算的正是每个文件占用块的多少。
同理可得，其中必定有部分块是没有占满的，所以和实际的文件大小有差异。

ls -l查看文件实际大小而非块大小

